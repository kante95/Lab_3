\documentclass[oneside]{book}

\usepackage{mathtools}
\usepackage{graphicx}
\usepackage[utf8]{inputenc}
\usepackage{float}
\usepackage{tabularx}
\usepackage[toc,page]{appendix}
\usepackage{gensymb}
\usepackage{subcaption}
\usepackage{tikz}
\usepackage{circuitikz}
\usepackage{array}
\usepackage{booktabs}
\usepackage{colortbl}
\usepackage{xcolor}
\usepackage{xfrac}
\usepackage{caption}

\usepackage[a4paper, inner=1.5cm, outer=3cm, top=3cm, 
bottom=3cm, bindingoffset=1cm]{geometry} 

\renewcommand{\thesubfigure}{\arabic{subfigure}}


\usepackage{fancyhdr}
\renewcommand{\chaptername}{Experiment}

\input{volt.tex}

\begin{document}
\input{title}
\tableofcontents
\chapter{Basic circuits with an operational amplifier}
In this experiment we have built five different circuits. The first is an open loop circuit with the operational amplifier uA741, the goal was to find the maximum voltage output by the op-amp. The last four circuits are in closed loop configuration with a negative feedback, they consist in a follower, a non inverting amplifier, an inverting amplifier and a weighted summing amplifier. We have measured the voltage input and the voltage output of every circut.
\section{Materials}
\begin{itemize}
\item Operational amplifier uA741
\item Resistors, nominal value: 100 $\ohm$, 220 $\ohm$
\item Power supply RIGOL DP831A
\item Waveform generator RIGOL DG1032
\item Multimeter RIGOL DM3068
\item Oscilloscope AGILENT 54261A
\end{itemize}
\section{Experiment setup}
In the first four circuits the output of the waveform generator was a sine wave of 100Hz frequency and a peak-peak voltage of 100mV.
We measured the waveform input signal $v_{in}$ and the output voltage $v_o$ of the op-amp. The measurements were performed using an oscilloscope triggered externally, the signal acquired is an 8 cycles average. The voltage supply of the op-amp was set to $v_{cc} = 15$V for all the circuits.\\
\begin{figure}[H]
\centering
\begin{minipage}{.5\textwidth}
  \centering
  \begin{circuitikz}
 	\draw(0,0) node[op amp,yscale=-1] (opamp) {}
	%(opamp.+) node[left] {$v_+$}
	(opamp.-) ++ (-.3,0) node[ground] {} -- (opamp.-) 
	(opamp.out) node[right] {$v_o$}
	(opamp.up) ++(0,-.5) node[below] {$-v_{cc}$} -- (opamp.up)
	(opamp.down) ++ (0,.5) node[above] {$+v_{cc}$} -- (opamp.down);
	\draw(-3,-1) to[sV] (-3,.5) to[short] (opamp.+);
	\draw(-3,-1) node[ground] {};
	\end{circuitikz}
	\caption{Open loop circuit}
\end{minipage}%
\begin{minipage}{.5\textwidth}
  \centering
  \begin{circuitikz}
 	\draw(0,0) node[op amp,yscale=-1] (opamp) {}
	%(opamp.+) node[left] {$v_+$}
	(opamp.-) ++ (-.3,0) -- (opamp.-) 
	(opamp.-) ++ (-.3,0) -- (-1.5,-1.8) -- (1,-1.8) -- (1,0)
	(opamp.out) node[right] {$v_o$}
	(opamp.up) ++(0,-.5) node[below] {$-v_{cc}$} -- (opamp.up)
	(opamp.down) ++ (0,.5) node[above] {$+v_{cc}$} -- (opamp.down);
	\draw(-3,-1) to[sV] (-3,.5) to[short] (opamp.+);
	\draw(-3,-1) node[ground] {};
	\end{circuitikz}
	\caption{Follower}
\end{minipage}
\end{figure}
\begin{figure}[h]
\centering
\begin{minipage}{.5\textwidth}
  \centering
  \begin{circuitikz}
 \draw(0,0) node[op amp,yscale=-1] (opamp) {}
%(opamp.+) node[left] {$v_+$}
(opamp.-) ++ (-.3,0) -- (opamp.-) 
(opamp.-) ++ (-.3,0) to[R = $R_1$] (-3,-0.5) to (-3,-1) node[ground]{}
(opamp.-) ++ (-.3,0) -- (-1.5,-1.8) to[R,l_=$R_2$] (1,-1.8) -- (1,0)
(opamp.out) node[right] {$v_o$}
(opamp.up) ++(0,-.5) node[below] {$-v_{cc}$} -- (opamp.up)
(opamp.down) ++ (0,.5) node[above] {$+v_{cc}$} -- (opamp.down);
\draw(-4,-1) to[sV] (-4,.5) to[short] (opamp.+);
\draw(-4,-1) node[ground] {};
\end{circuitikz}
\caption{Non inverting amplifier}
\end{minipage}%
\begin{minipage}{.5\textwidth}
  \centering
  \begin{circuitikz}
 \draw(0,0) node[op amp,yscale=-1] (opamp) {}
%(opamp.+) node[left] {$v_+$}
(opamp.-) ++ (-.3,0) -- (opamp.-) 
(opamp.-) ++ (-.3,0) to[R = $R_1$] (-3.4,-0.5) to[sV] (-3.4,-1.7) node[ground]{}
(opamp.-) ++ (-.3,0) -- (-1.5,-1.8) to[R,l_=$R_2$] (1,-1.8) -- (1,0)
(opamp.out) node[right] {$v_o$}
(opamp.up) ++(0,-.5) node[below] {$-v_{cc}$} -- (opamp.up)
(opamp.down) ++ (0,.5) node[above] {$+v_{cc}$} -- (opamp.down);
\draw(-4.3,.5)node[ground] {} to[short] (opamp.+);
\end{circuitikz}
\caption{Inverting amplifier}
\end{minipage}
\end{figure}
For the last circuit we used another sine wave signal with the same 100Hz frequency and a different peak-peak voltage. The oscilloscope's setting and the measurement taken was the same as before.\\The values of the resistor are:  $R_1 =99.89 \pm 0.02\,\Omega$, $R_2 = 218.37\pm 0.04\,\Omega$, $R_3 = 99.89\pm 0.02\,\Omega$ (the measurement were made with the multimeter).
\begin{figure}[H]
\centering
\begin{circuitikz}
\draw(0,0) node[op amp] (opamp) {}
	%(opamp.+) node[left] {$v_+$}
	(opamp.+) ++ (-.3,0) node[ground] {} -- (opamp.+) 
	(opamp.out) node[right] {$v_o$}
	(opamp.down) ++(0,-.5) node[below] {$-v_{cc}$} -- (opamp.down)
	(opamp.up) ++ (0,.5) node[above] {$+v_{cc}$} -- (opamp.up);
	\draw(-5,-1) to[sV,l=$v_{in2}$] (-5,.5) to[R=$R_3$] (-3,.5) to[short] (opamp.-);
	\draw(-5,-1) node[ground] {};
	\draw(-5,2) to[sV,l=$v_{in1}$] (-5,3.5) to[R=$R_1$] (-3,3.5) to[short] (-3,.5);
	\draw(-5,2) node[ground] {};
	\draw(-2,.5) to[short](-2,2.2) to[R=$R_2$](1,2.2) to[short](1,0);
\end{circuitikz}
\caption{Weighted summing amplifier}
\label{weightedsummingamplifier}
\end{figure}
\section{Data analysis}
\begin{figure}[H]
\centering
\includegraphics[width=.7\textwidth]{img/scope1.png}
\caption{Open loop configuration}
\end{figure}
In the open loop configuration we get an output (visible in the figure one) that has a max absolute value of $14.35\pm 0.16$\footnote{Error based on oscilloscope's 8 bit resolution} V and a minimum value of $-12.94\pm 0.16^1$ V. In the ideal model we would expect the output to be infinite, as justified from the equation $v_o = A_{ol}(v_+-v_-)$ where $A_{ol}$ tends to infinity. In the physical case the output voltage is costrained by the saturation voltage that's determinated by the voltage applied to the op-amp.
The minimum and maximum value of the output have different absolute value, due to the lack of symmetry between the \emph{npn} and \emph{pnp} trasistors in the final push-pull stage of the op-amp. 
\begin{figure}[H]
\centering
\includegraphics[width=.7\textwidth]{img/scope2.png}
\caption{Emitter follower}
\end{figure}
In the emitter follower we expect, ideally, an output voltage equal to the input one. But we can see in the plot a small discrepancy between the two signals: that is determined probably by the op-amp's offset, as we can see a downward translation in the output, and also by some other non ideal features of the op-amp.
\begin{figure}[H]
\centering
\includegraphics[width=.7\textwidth]{img/scope3.png}
\caption{Non-inverting amplifier}
\end{figure}
In the non-inverting amplifier configuration we expect the output to be: $v_o = v_{in} (1 + \frac{R_2}{R_1})$. The theoretical value calculated using the $v_{in}$ and $R_2$, $R_1$ is $320.3\pm 1.9$ mV. This prediction is not compatible with the output measured $313.4\pm 0.8$ mV, probably because the op-amp is not ideal. 
\begin{figure}[H]
\centering
\includegraphics[width=.7\textwidth]{img/scope4.png}
\caption{Inverting amplifier}
\end{figure}
In the inverting amplifier the output should be : $v_o = - v_{in} \frac{R_2}{R_1}$. The pk-pk of the output is $219.4\pm 0.8$ mV that is compatible with theoretical value $219.8\pm 1.9$ mV.
\begin{figure}[H]
\centering
\includegraphics[width=.7\textwidth]{img/scope5.png}
\caption{Weighted summing circuit}
\end{figure}
In the circuit \eqref{weightedsummingamplifier} we used two inputs for aquiring an output voltage. This configuration sums these signals $v_1 = 135.1\pm 0.8$ mV and $v_2 = 101.3\pm 0.8$ mV using the resistors $R_1$ and $R_3$ as weights, giving as output $v_o = - R_2 (\frac{v_1}{R_1} + \frac{v_2}{R_3})$, which gives a pk-pk value of $516.7\pm 2.7$ mV. The theory in this case it's not at all compatible with the measurament $506\pm 0.8$ mV, but that's, most likely, caused by the noise in the output.

\chapter{Let's get more confident with our little friend op-amp}
We designed a non-inverting amplifier with a variable gain by using a trimmer. The second circuit designed was a summing amplifier with an unitary gain. We built a current source generator of $1$ mA and tested it with a variable load. We tested the efficacy of the emitter follower configuration in mismatching the source's impedence. Last we designed a differential amplifier with a predetermined gain.
\section{Materials}
\begin{itemize}
\item Operational amplifier uA741
\item Resistors and trimmers
\item Power supply RIGOL DP831A
\item Waveform generator RIGOL DG1032
\item Multimeter RIGOL DM3068
\item Oscilloscope RIGOL MS02102A
\item Two capacitance of nominal value of $100$nF
\end{itemize}
\section{Experiment setup}
In each circuit we powered the op-amp with a $\pm15$ V DC voltage and, in order to reduce possible noises, we added two 100nF capacitors connecting the op-amp's pins for the power supply with the ground. The input signal has a frequency of 100 Hz and a peak-peak voltage of 1V except for the differential amplifier.For every specific circuit we designed them as follow:
\begin{itemize}
\item Inverting amplifier: we placed a 10k$\Omega$ trimmer along the feedback branch in series to a resistor $R_f = 983.9 \pm 0.1 \Omega$. In order to have a minimal gain of 5, we used $R_{in} = 199.84\pm 0.03 \Omega$ as in figure \eqref{Non-inverting variable amplifier}.
\item Summing amplifier: caring for the simplest calculations, we used $R_1 = 1484.7 \pm 0.2 \Omega \simeq R_2= 1483.5\pm 0.2\Omega$ so the equation is $\displaystyle\frac{v_1+v_2}{2}\left(1+\frac{R_4}{R_3}\right)$. For obtaining the sum of the input in output, we had to choose $R_3 = R_4 = 1001.3 \pm 0.1 \Omega$. The inputs $v_1$ and $v_2$ are the same 100 Hz, 1 V peak-peak sine wave signal.

\begin{figure}[H]
\centering
\begin{minipage}{.5\textwidth}
  \centering
\begin{circuitikz}
\draw(0,0) node[op amp] (opamp) {}
	%(opamp.+) node[left] {$v_+$}
	(opamp.+) ++ (-.3,0) node[ground] {} -- (opamp.+) 
	(opamp.out) to[short] (1.8,0) node[right] {$v_o$}
	(opamp.down) ++(0,-.7) node[below] {$-v_{cc}$} -- (opamp.down)
	(opamp.up) ++ (0,.7) node[above] {$+v_{cc}$} -- (opamp.up)
	(opamp.down) ++ (0,-.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,-.8)node[ground,rotate = 90,yshift = 1em] {}
	(opamp.up) ++ (0,.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,.8)node[ground,rotate = 90,yshift = 1em] {};
	\draw(-4,-1) to[sV,l=$v_{in}$] (-4,.5) to[R=$R_{in}$] (-2,.5) to[short] (opamp.-);
	\draw(-4,-1) node[ground] {};
	
	\draw(-1.5,.5) to[short](-1.5,2.2) to[R=$R_f$](0,2.2) to[vR=$R_x$] (1.5,2.2)  to[short](1.5,0);
\end{circuitikz}
\caption{Inverting variable amplifier}\label{Non-inverting variable amplifier}
\end{minipage}%
\begin{minipage}{.5\textwidth}
  \centering
\begin{circuitikz}
\draw(0,0) node[op amp] (opamp) {}
	%(opamp.+) node[left] {$v_+$}
	%(opamp.+) ++ (-.3,0) node[ground] {} -- (opamp.+) 
	(opamp.out) to[short] (1.8,0) node[right] {$v_o$}
	(opamp.down) ++(0,-.7) node[below] {$-v_{cc}$} -- (opamp.down)
	(opamp.up) ++ (0,.7) node[above] {$+v_{cc}$} -- (opamp.up)
	(opamp.down) ++ (0,-.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,-.8)node[ground,rotate = 90,yshift = 1em] {}
	(opamp.up) ++ (0,.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,.8)node[ground,rotate = 90,yshift = 1em] {};
	\draw(-4,-.5)node[left]{$v_1$} to[R=$R_{1}$,o-] (-2,-.5) to[short] (opamp.+);
	\draw(-4,-1.5)node[left]{$v_2$} to[R=$R_{2}$,o-] (-2,-1.5) to[short] (-2,-.5);

	\draw(opamp.-) -- (-1.5,.5) to[short](-1.5,2.2) to[R=$R_4$](1.5,2.2) to[short](1.5,0);
	\draw(-1.5,2.2) to[R=$R_3$] (-4,2.2)node[ground] {};
\end{circuitikz}
\caption{Non-inverting summing amplifier, unitary gain}
\end{minipage}
\end{figure}
\item Emitter follower test: at first we built a circuit without the emitter follower using an input impedence of $R=100.2\pm 1\, \text{k}\Omega$ and a load of $R_L=19.8\pm 2\,\text{k}\Omega$.  Then we added the op-amp stage and compared the output measurements in the 2 different cases.
\begin{figure}[H]
\centering
\begin{minipage}{.5\textwidth}
  \centering
\begin{circuitikz}
\draw(0,0)node[ground]{} to[sV] (0,2) to[R=$R$,-o]node[right,xshift=.8em] {$v_o$} (2,2);
\draw(1.8,2) to[R=$R_L$](1.8,0)node[ground]{};
\end{circuitikz}
\caption{Test circuit without follower}
\end{minipage}%
\begin{minipage}{.5\textwidth}
  \centering
\begin{circuitikz}
\draw(0,0) node[op amp] (opamp) {}
	%(opamp.+) node[left] {$v_+$}
	(opamp.+) ++ (-.3,0) node[ground] {} -- (opamp.+) 
	(opamp.out) to[short,-o] (1.8,0) node[right] {$v_o$}
	(opamp.down) ++(0,-.7) node[below] {$-v_{cc}$} -- (opamp.down)
	(opamp.up) ++ (0,.7) node[above] {$+v_{cc}$} -- (opamp.up)
	(opamp.down) ++ (0,-.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,-.8)node[ground,rotate = 90,yshift = 1em] {}
	(opamp.up) ++ (0,.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,.8)node[ground,rotate = 90,yshift = 1em] {};
	\draw(-4,-1) to[sV,l=$v_{in}$] (-4,.5) to[R=$R$] (-2,.5) to[short] (opamp.-);
	\draw(-4,-1) node[ground] {};
	\draw(-1.5,.5) to[short](-1.5,2.2)to[short] (1.5,2.2)  to[short](1.5,0);
	\draw(1.6,0) to[R=$R_L$] (1.6,-2)node[ground]{};
\end{circuitikz}
\caption{Test circuit with follower}
\end{minipage}
\end{figure}

\item Current generator: the aim of this circuit is to generate a stable fixed current indipendent from the load. We generated a $1$ mA current using a DC voltage source of 5 V and a 4.9693 $\pm$ 0.7 k$\Omega$ resistor. The load was simulated with a trimmer. 
\item Differential amplifier: the full equation the circuit in figure \eqref{differential amplifier} is the following:
\[v_o = \frac{R_F}{R_1}\left[\frac{v_b}{1+R_f/Ry}\left(1+\frac{R_1}{R_f}\right)-v_a\right]\]
we first set to ground $v_b$, in this way we were able to set up the gain of the circuit (we chose it to be $A=2$ with $R_F =3\pm 0.2\, \text{k}\Omega$ (5\% error of nominalvalue)). After that we put the same signal of $v_a$ in $v_b$ with a resistor $R_f$ and a variable resistor $R_y$ made with $R_2$ in series with a trimmer. We managed with the trimmer to get the output as close to zero as possibile. This means in the equation $R_f/R_y = R_1/R_F$ so the new output is exaclty what we want $v_0 = A(v_b-v_a)$. For testing the amplifier we used $v_a= 5$ V DC and for $v_b$ a sine wave 1 V peak-peak 100 Hz with an offset of 5 V.
\end{itemize}

\begin{figure}[H]
\centering
\begin{minipage}{.5\textwidth}
  \centering
\begin{circuitikz}
\draw(0,0) node[op amp] (opamp) {}
	%(opamp.+) node[left] {$v_+$}
	(opamp.+) ++ (-.3,0) node[ground] {} -- (opamp.+) 
	(opamp.out) to[short] (1.8,0) node[right] {$v_o$}
	(opamp.down) ++(0,-.7) node[below] {$-v_{cc}$} -- (opamp.down)
	(opamp.up) ++ (0,.7) node[above] {$+v_{cc}$} -- (opamp.up)
	(opamp.down) ++ (0,-.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,-.8)node[ground,rotate = 90,yshift = 1em] {}
	(opamp.up) ++ (0,.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,.8)node[ground,rotate = 90,yshift = 1em] {};
	\draw(-4,-.8) to[battery1] (-4,.5) to[R=$R_{3}$] (-2,.5) to[short] (opamp.-);
	\draw(-4,-.5) node[ground] {};
	
	\draw(-1.5,.5) to[short](-1.5,2.2) to[vR=$R_x$] (1.7,2.2)to[myvoltmeter](1.7,0);
\end{circuitikz}
\caption{Current source generator}
\end{minipage}%
\begin{minipage}{.5\textwidth}
  \centering
\begin{circuitikz}
\draw(0,0) node[op amp] (opamp) {}
	%(opamp.+) node[left] {$v_+$}
	%(opamp.+) ++ (-.3,0) node[ground] {} -- (opamp.+) 
	(opamp.out) to[short] (1.8,0) node[right] {$v_o$}
	(opamp.down) ++(0,-.7) node[below] {$-v_{cc}$} -- (opamp.down)
	(opamp.up) ++ (0,.7) node[above] {$+v_{cc}$} -- (opamp.up)
	(opamp.down) ++ (0,-.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,-.8)node[ground,rotate = 90,yshift = 1em] {}
	(opamp.up) ++ (0,.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,.8)node[ground,rotate = 90,yshift = 1em] {};
	\draw(-4,-.5)node[left]{$v_B$} to[R=$R_{f}$,o-] (-2,-.5) to[short] (opamp.+);
	\draw((-2,-.5) to[vR=$R_{y}$] (-2,-2.5) node[ground]{};

	\draw(opamp.-) -- (-1.5,.5) to[short](-1.5,2.2) to[R=$R_F$](1.5,2.2) to[short](1.5,0);
	\draw(-1.5,2.2) to[R=$R_1$,-o] (-4,2.2)node[left] {$v_A$};
\end{circuitikz}
\caption{differential amplifier}\label{differential amplifier}
\end{minipage}
\end{figure}
\section{Data analysis}
  GRAPHIC 2.7: VARIABLE INVERTING AMPLIFIER\\
In the inverting amplifier we used a trimmer in order to vary the gain: increasing its resistance we get also a gain increase. When the output voltage reaches the value of the power one ($\pm 15$V), it cannot increase further and the signal goes flat, as we can see in figure 2.7 (light blue line): this behavior is called "Clipping".\\
The graphic also shows a discrepance between the absolut value of maximum and minimum voltage during the clipping: this is due to the asimmetry between \emph{pnp} and \emph{npn} transistors in the OP-AMP.\\
\\
In the non-inverting summing amplifier circuit we wanted the output to be the simple sum of the signals in entrance, that were identical (sines, 1V peak-peak, 100Hz). We used

\chapter{Unfortunately the op-amp is not so ideal}
In this set of experiments we dealt with the problems of a real op-amp such as the offset $v_{os}$, the bias currents $i_{b+},i_{b-}$, the slew-rate, the maximum current outputed and the common gain $A_{cm}$, we performed the measures of these real parameters. The offset is studied with 3 different circuit and then compensated with a trimmer in the configuration suggested by the op-amp's datasheet. The bias currents was measured in two way, one for the bias current in the $+$'s op-amp input and one for the $-$'s op-amp input. The other parameters are studied simply adjusting the input for the measurement's purpose.

\section{Materials}
\begin{itemize}
\item Operational amplifier uA741
\item Resistors, trimmer
\item Power supply RIGOL DP831A
\item Waveform generator RIGOL DG1032
\item Multimeter RIGOL DM3068
\item Oscilloscope RIGOL MS02102A
\end{itemize}

\begin{tabular}{ |p{3cm}||p{3cm}|p{3cm}| }
 \hline
 \multicolumn{3}{|c|}{List of resistors used} \\
 \hline
 Resistor name & Value [$\Omega$] & Uncertainty [$\Omega$]\\
 \hline
 R$_{\text{M}\Omega}$   & 982.0 $\times$ 10$^3$ & 0.1 $\times$ 10$^3$  \\
 R$_{100\text{k}\Omega}$& 99.22 $\times$ 10$^3$ & 0.01 $\times$ 10$^3$ \\
 R$_{10\text{k}\Omega}$ &   9906.2            & 1.2         \\
 R$_{\text{k}\Omega}$   &  1001.4             & 0.1         \\
 R$_{10\Omega}$         &  9.963              & 0.01        \\
 R$_{\text{k}\Omega}^*$ &  9926.4             & 1.2         \\
 R$_{10\Omega}^*$       &10.00                & 0.01        \\
 
 \hline
\end{tabular}
\section{Experiment setup}
In all the circuits we placed on the power supply's pins two capacitor each, one with high capacitace (nominal value 470 $\pm$ 23 nF) and one with low capacitance (10.0 $\pm$ 0.5 nF). These were used for suppressing the high-frequency noise and contrastig the effect of any eventual change in the voltage of the power supply, that could move the offset voltage.
In the first circuit we aquired $V_{os}$ directly, by measuring with the multimiter the output voltage.
We used the second circuit to amplify $V_{os}$, thus we used the output to calculate $V_{os}$.
The third circuit is identical to  the second circuit except for the added resistor in parallel that connect v$_-$ to the ground. This was done for removing the influence of the current of bias in the measurament. It is, using this circuit, that we tried to remove $V_{os}$ by using a trimmer connected to the pins 1 and 5 and trying to make the output closest that we could to 0.
The fourth circuit and fifth are used for measuring the current of bias indirectly using how the two currents are related to the output.
The sixth circuit was used for measuring the maximum current that the op-amp can erogate. In this configuration the oscilloscope's internal resitor was set to $50 \Omega$
In the seventh circuit we measured the slew rate. The capacitor use was 1 $\pm$ 0.05 nF and a resistor of 2 $\pm$ 0.1 k$\Omega$. The input used was a 10 V  square wave, so we aquired the image of the raising output.
In the last circuit we measured the common gain by using the differential amplifier with the same input 2 V peak-peak and 100 Hz.

\begin{figure}[H]
\centering
\begin{circuitikz}
 	\draw(0,0) node[op amp] (opamp) {}
	%(opamp.+) node[left] {$v_+$}
	(opamp.-) ++ (-.3,0) -- (opamp.-) 
	(opamp.-) ++ (-.3,0) -- (-1.5,1.8) -- (1.6,1.8) -- (1.6,0)
	(opamp.out) to [short,-o](1.8,0) node[right] {$v_o$}
	(opamp.up) ++(0,.5) node[above] {$+v_{cc}$} -- (opamp.up)
	(opamp.down) ++ (0,-.5) node[below] {$-v_{cc}$} -- (opamp.down)
	(opamp.down) ++ (0,-.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,-.8)node[ground,rotate = 90,yshift = 1em] {}
	(opamp.up) ++ (0,.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,.8)node[ground,rotate = 90,yshift = 1em] {};
	\draw(opamp.+) ++ (-.3,0)node[ground] {} -- (opamp.+);
	\end{circuitikz}
\caption{Offset voltage's direct measure}
\end{figure}
\begin{figure}[H]
\centering
\begin{circuitikz}
\draw(0,0) node[op amp] (opamp) {}
	%(opamp.+) node[left] {$v_+$}
	(opamp.+) ++ (-.3,0) node[ground] {} -- (opamp.+) 
	(opamp.out) to [short,-o](1.8,0) node[right] {$v_o$}
	(opamp.down) ++(0,-.5) node[below] {$-v_{cc}$} -- (opamp.down)
	(opamp.up) ++ (0,.5) node[above] {$+v_{cc}$} -- (opamp.up)
	(opamp.down) ++ (0,-.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,-.8)node[ground,rotate = 90,yshift = 1em] {}
	(opamp.up) ++ (0,.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,.8)node[ground,rotate = 90,yshift = 1em] {};
	\draw(-3.5,.5) to[R=$R_3$] (-1.5,.5) to[short] (opamp.-);
	\draw(-3.5,.5) node[ground] {};
	\draw(-1.5,.5) to[short](-1.5,2.2) to[R=$R_2$](1.5,2.2) to[short](1.5,0);
\end{circuitikz}
\caption{Roba}
\end{figure}
\begin{figure}[H]
\centering
\begin{circuitikz}
\draw(0,0) node[op amp] (opamp) {}
	%(opamp.+) node[left] {$v_+$}
	%(opamp.+) ++ (-.3,0) node[ground] {} -- (opamp.+) 
	(opamp.out) to [short,-o](1.8,0) node[right] {$v_o$}
	(opamp.down) ++(0,-.5) node[below] {$-v_{cc}$} -- (opamp.down)
	(opamp.up) ++ (0,.5) node[above] {$+v_{cc}$} -- (opamp.up)
	(opamp.down) ++ (0,-.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,-.8)node[ground,rotate = 90,yshift = 1em] {}
	(opamp.up) ++ (0,.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,.8)node[ground,rotate = 90,yshift = 1em] {};
	\draw(-3.5,.5) to[R=$R_3$] (-1.5,.5) to[short] (opamp.-);
	\draw(-3.5,.5) node[ground] {};
	\draw(-1.5,.5) to[short](-1.5,2.2) to[R=$R_2$](1.5,2.2) to[short](1.5,0);
	
	\draw(opamp.+) to[short](-1.7,-.5)to[short](-1.7,-1) to[short](-2.1,-1) to[R](-2.1,-3)to[short](-1.7,-3)node[ground]{};
	\draw(-1.7,-1)to[short](-1.3,-1)to[R](-1.3,-3)to[short](-1.7,-3);
\end{circuitikz}
\caption{Roba}
\end{figure}
\begin{figure}[H]
\centering
\begin{circuitikz}
\draw(0,0) node[op amp] (opamp) {}
	%(opamp.+) node[left] {$v_+$}
	%(opamp.+) ++ (-.3,0) node[ground] {} -- (opamp.+) 
	(opamp.out) to [short,-o](1.8,0) node[right] {$v_o$}
	%(opamp.down) ++(0,-.5) node[below] {$-v_{cc}$} -- (opamp.down)
	(opamp.up) ++ (0,.5) node[above] {$+v_{cc}$} -- (opamp.up)
	(opamp.down) ++ (0,-.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,-.8)node[ground,rotate = 90,yshift = 1em] {}
	(opamp.up) ++ (0,.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,.8)node[ground,rotate = 90,yshift = 1em] {};
	\draw(-3.5,.5) to[R=$R_3$] (-1.5,.5) to[short] (opamp.-);
	\draw(-3.5,.5) node[ground] {};
	\draw(-1.5,.5) to[short](-1.5,2.2) to[R=$R_2$](1.5,2.2) to[short](1.5,0);
	\draw(opamp.+) to[short](-1.2,-.5)to[R](-1.2,-2.5)node[ground]{};

	\draw(opamp.down) ++ (-.45,-.25)to[short](-0.53,-2)to[R](1.53,-2);
	\draw(opamp.down) ++ (.6,.36) to[short](.515,-.35) to[short](1.53,-.35) to[short](1.53,-2);
	
	\draw(opamp.down) to [short](-.085,-1.3)to[short](.42,-1.3);
	
	\draw(-.085,-1.3) to[short](-.085,-1.45)node[below]{\scriptsize$-v_{cc}$};
	\draw[-stealth](.415,-1.3) -- (.415,-1.76);
\end{circuitikz}
\caption{Roba}
\end{figure}
\begin{figure}[H]
\centering
\begin{circuitikz}
\draw(0,0) node[op amp] (opamp) {}
	%(opamp.+) node[left] {$v_+$}
	(opamp.+) ++ (-.3,0) node[ground] {} -- (opamp.+) 
	(opamp.out) to [short,-o](1.8,0) node[right] {$v_o$}
	%(opamp.down) ++(0,-.5) node[below] {$-v_{cc}$} -- (opamp.down)
	(opamp.up) ++ (0,.5) node[above] {$+v_{cc}$} -- (opamp.up)
	(opamp.down) ++ (0,-.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,-.8)node[ground,rotate = 90,yshift = 1em] {}
	(opamp.up) ++ (0,.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,.8)node[ground,rotate = 90,yshift = 1em] {};
	
	\draw(-5,.49) to[R=$R_3$] (-3,.49) to[R](-1,.49);%to[short](opamp.-);
	\draw(-5,.49) node[ground] {};
	\draw(-3,.49) to[short](-3,2.2) to[R=$R_2$](1.5,2.2) to[short](1.5,0);
	%\draw(opamp.+) to[short](-1.2,-.5)node[ground]{};

	\draw(opamp.down) ++ (-.45,-.25)to[short](-0.53,-2)to[R](1.53,-2);
	\draw(opamp.down) ++ (.6,.36) to[short](.515,-.35) to[short](1.53,-.35) to[short](1.53,-2);
	
	\draw(opamp.down) to [short](-.085,-1.3)to[short](.42,-1.3);
	
	\draw(-.085,-1.3) to[short](-.085,-1.45)node[below]{\scriptsize$-v_{cc}$};
	\draw[-stealth](.415,-1.3) -- (.415,-1.76);
\end{circuitikz}
\caption{Roba}
\end{figure}
\begin{figure}[H]
\centering
\begin{circuitikz}
 	\draw(0,0) node[op amp] (opamp) {}
	%(opamp.+) node[left] {$v_+$}
	(opamp.-) ++ (-.3,0) -- (opamp.-) 
	(opamp.-) ++ (-.3,0) -- (-1.5,1.8) -- (1.6,1.8) -- (1.6,0)
	(opamp.out) to [short](2.5,0)to[myvoltmeter,l=Oscilloscope $50\ohm$](2.5,-1.5)node[ground]{}
	(opamp.up) ++(0,.5) node[above] {$+v_{cc}$} -- (opamp.up)
	(opamp.down) ++ (0,-.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,-.8)node[ground,rotate = 90,yshift = 1em] {}
	(opamp.up) ++ (0,.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,.8)node[ground,rotate = 90,yshift = 1em] {};
	%\draw(opamp.+) ++ (-.3,0)node[ground] {} -- (opamp.+);
	\draw(opamp.down) ++ (-.45,-.25)to[short](-0.53,-2)to[R](1.53,-2);
	\draw(opamp.down) ++ (.6,.36) to[short](.515,-.35) to[short](1.53,-.35) to[short](1.53,-2);
	
	\draw(opamp.down) to [short](-.085,-1.3)to[short](.42,-1.3);
	
	\draw(-.085,-1.3) to[short](-.085,-1.45)node[below]{\scriptsize$-v_{cc}$};
	\draw[-stealth](.415,-1.3) -- (.415,-1.76);

	\draw(-2,-2)node[ground]{}to[tV](-2,-.5) -- (opamp.+);


	\draw(2.5,0)to[short,-o](2.8,0)node[right] {$v_o$};
	\end{circuitikz}
\caption{Offset voltage's direct measure}
\end{figure}

\begin{figure}[H]
\centering
\begin{circuitikz}
 	\draw(0,0) node[op amp] (opamp) {}
	%(opamp.+) node[left] {$v_+$}
	(opamp.-) ++ (-.3,0) -- (opamp.-) 
	(opamp.-) ++ (-.3,0) -- (-1.5,1.8) -- (1.6,1.8) -- (1.6,0)
	(opamp.out) to [short](2.5,0)to[short](2.5,-.3)to[short](2.2,-.3)to[C](2.2,-1.8)to[short](2.5,-1.8)node[ground]{}
	(opamp.up) ++(0,.5) node[above] {$+v_{cc}$} -- (opamp.up)
	(opamp.down) ++ (0,-.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,-.8)node[ground,rotate = 90,yshift = 1em] {}
	(opamp.up) ++ (0,.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,.8)node[ground,rotate = 90,yshift = 1em] {};
	%\draw(opamp.+) ++ (-.3,0)node[ground] {} -- (opamp.+);
	\draw(opamp.down) ++ (-.45,-.25)to[short](-0.53,-2)to[R](1.53,-2);
	\draw(opamp.down) ++ (.6,.36) to[short](.515,-.35) to[short](1.53,-.35) to[short](1.53,-2);
	
	\draw(opamp.down) to [short](-.085,-1.3)to[short](.42,-1.3);
	
	\draw(-.085,-1.3) to[short](-.085,-1.45)node[below]{\scriptsize$-v_{cc}$};
	\draw[-stealth](.415,-1.3) -- (.415,-1.76);

	\draw(-2,-2)node[ground]{}to[sqV](-2,-.5) -- (opamp.+);
	\draw(2.5,0)to[short,-o](2.8,0)node[right] {$v_o$};

	\draw(2.5,-.3)to[short](3,-.3)to[R](3,-1.8)to[short](2.5,-1.8);
	\end{circuitikz}
\caption{Offset voltage's direct measure}
\end{figure}
\begin{figure}[H]
\centering
\begin{circuitikz}
\draw(0,0) node[op amp] (opamp) {}
	%(opamp.+) node[left] {$v_+$}
	%(opamp.+) ++ (-.3,0) node[ground] {} -- (opamp.+) 
	(opamp.out) to [short,-o](1.8,0) node[right] {$v_o$}
	(opamp.up) ++ (0,.5) node[above] {$+v_{cc}$} -- (opamp.up)
	(opamp.down) ++ (0,-.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,-.8)node[ground,rotate = 90,yshift = 1em] {}
	(opamp.up) ++ (0,.25)to[C,/tikz/circuitikz/bipoles/length=1cm] (1,.8)node[ground,rotate = 90,yshift = 1em] {};
	\draw(-3.5,.5) to[R=$R_3$] (-1.5,.5) to[short] (opamp.-);
	\draw(-3.5,.5) to[short](-3.5,-.5);
	\draw(-1.5,.5) to[short](-1.5,2.2) to[R=$R_2$](1.5,2.2) to[short](1.5,0);

	\draw(-3.5,-.5) to[R] (-1.5,-.5) to[short] (opamp.+);
	\draw(-3.5,-.5) to[sV](-3.5,-2)node[ground]{};

	\draw(opamp.down) ++ (-.45,-.25)to[short](-0.53,-2)to[R](1.53,-2);
	\draw(opamp.down) ++ (.6,.36) to[short](.515,-.35) to[short](1.53,-.35) to[short](1.53,-2);
	
	\draw(opamp.down) to [short](-.085,-1.3)to[short](.42,-1.3);
	
	\draw(-.085,-1.3) to[short](-.085,-1.45)node[below]{\scriptsize$-v_{cc}$};
	\draw[-stealth](.415,-1.3) -- (.415,-1.76);
\end{circuitikz}
\caption{Roba}
\end{figure}
\section{Data analysis}
<<<<<<< HEAD
In the emitter follower the output measured is $-1.484 \pm 0.005$ mV. Being such a small output we expect to have problem with parassite resistor and other form of  noise, that's why we don't consider the output too reliable, but it gives an order of magnitude that is in agreement with the datasheet of the op-amp, that propouses a typical value of 1 mV and a maximum value of 5 mV.\\
In the amplifier we can find $v_{os}$, by using $$v_{os} = \frac{v_{out}}{1 + \frac{R_{10\text{k}\Omega}}{R_{10\Omega}}}$$ From the calculation we get $v_{os} = -1.333 +- 0.001$ V, which is has the same order of magnitude and same sign.\\
Then has stated before we corrected the circuit for compensating the effect of the current of bias, so with the same formula used for the previous amplifier we get an offset voltage of $1.307 \pm 0.001$ mV. We used this circuit for nulling the offset with the trimmer.\\
In the fourth circuit we calculate the current flowing in the non invertent pin by using $$i_{b+} = \frac{v_{out}}{R_{\text{M}\Omega} (1 + \frac{R_{100\text{k}\Omega}}{R_{1\text{k}\Omega}})}$$ The value calculated is $-39.042 +- 0.009$nA.\\
In the fifth circuit instead we calculate the current flowing in the invertent pin by using $$i_{b-} = \frac{v_{out}}{R_{100\text{k}\Omega}} \frac{R_{\text{k}\Omega}}{R_{\text{M}\Omega}}$$ The value is $-39.724 +- 0.009$nA. Now can compute the current of bias $i_b = \frac{|i_{b-}| + |i_{b+}|}{2} = 39.383 \pm 0.006$ nA and the offset current $i_o = ||i_{b-}| - |i_{b+}|| = 0.68 \pm 0.01$ nA. $i_b$ is less than 100 nA and near the typical value of 10 nA, as the datasheet states, but the offset current is a bit low being around a third of the typical value 2 nA.\\
In the sixth circuit we calculated the maximum current erogated by computing the maximum/minimum output voltage over the resistance in the oscilloscope. In the plot is visible the different absolute value of the maximum and minimum output voltage,( that's probably caused by ............). So opted to giving two different maximum currents: $i_{max} = 0.0201 +- 0.0001$ A when the output was positive and $i_{min} = 0.0328 +- 0.0001$
=======
\end{document} 
>>>>>>> 8a93ee29db2c0eb839005a0887d34e65feaa6cbe

\end{document}